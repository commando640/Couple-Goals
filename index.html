<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fahim ‚ù§Ô∏è Areen - Forever Love Quest</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
body{overflow:hidden;background:#000;color:#fff;text-align:center}

.screen{
position:absolute;
width:100%;
height:100%;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

.hidden{display:none}

/* Start Screen */
#startScreen{
background:url('couple.jpg') center/cover no-repeat;
}
#startOverlay{
background:rgba(0,0,0,0.6);
position:absolute;
width:100%;
height:100%;
}
#startContent{
position:relative;
z-index:2;
}
button{
padding:12px 25px;
font-size:18px;
border:none;
border-radius:30px;
background:#ff4d6d;
color:white;
cursor:pointer;
margin-top:20px;
}
button:hover{background:#ff1e4d}

/* Game Canvas */
#gameCanvas{
background:linear-gradient(to bottom,#ff9a9e,#fad0c4);
display:block;
margin:auto;
}

/* Puzzle */
#puzzleBoard{
display:grid;
grid-template-columns:repeat(3,100px);
grid-template-rows:repeat(3,100px);
gap:2px;
}
.piece{
width:100px;
height:100px;
background-size:300px 300px;
cursor:pointer;
}

/* Final */
#finalScreen{
background:url('couple.jpg') center/cover no-repeat;
}
#finalOverlay{
background:rgba(0,0,0,0.7);
position:absolute;
width:100%;
height:100%;
}
#loveMessage{
position:relative;
z-index:2;
max-width:80%;
font-size:22px;
}
</style>
</head>
<body>

<!-- üéµ BGM -->
<audio id="bgm" loop>
<source src="bgm.mp3" type="audio/mpeg">
</audio>

<!-- START SCREEN -->
<div id="startScreen" class="screen">
<div id="startOverlay"></div>
<div id="startContent">
<h1>Fahim ‚ù§Ô∏è Areen</h1>
<p>Forever Love Quest</p>
<button onclick="startGame()">Start Our Love Journey</button>
</div>
</div>

<!-- HEART GAME -->
<canvas id="gameCanvas" width="400" height="600" class="hidden"></canvas>

<!-- PUZZLE -->
<div id="puzzleScreen" class="screen hidden">
<h2>Complete Our Memory üíï</h2>
<div id="puzzleBoard"></div>
</div>

<!-- FINAL -->
<div id="finalScreen" class="screen hidden">
<div id="finalOverlay"></div>
<div id="loveMessage"></div>
</div>

<script>

/* ---------- START GAME ---------- */
function startGame(){
document.getElementById("startScreen").classList.add("hidden");

/* üéµ Play Music After Click */
let music=document.getElementById("bgm");
music.volume=0.6;
music.play().catch(()=>{});

initGame();
}

/* ---------- HEART GAME ---------- */
let canvas=document.getElementById("gameCanvas");
let ctx=canvas.getContext("2d");
let playerImg=new Image();
playerImg.src="fahim.png";

let hearts=[];
let score=0;
let playerX=160;

function initGame(){
canvas.classList.remove("hidden");
score=0;
hearts=[];
gameLoop();
}

function spawnHeart(){
hearts.push({
x:Math.random()*360,
y:-20,
speed:2+Math.random()*2
});
}
setInterval(spawnHeart,800);

function gameLoop(){
ctx.clearRect(0,0,400,600);
ctx.drawImage(playerImg,playerX,520,80,80);

hearts.forEach((h,i)=>{
h.y+=h.speed;
ctx.fillStyle="red";
ctx.beginPath();
ctx.arc(h.x,h.y,10,0,Math.PI*2);
ctx.fill();

if(h.y>520 && h.x>playerX && h.x<playerX+80){
score++;
hearts.splice(i,1);
}

if(h.y>600) hearts.splice(i,1);
});

ctx.fillStyle="#000";
ctx.font="20px Arial";
ctx.fillText("Score: "+score,10,30);

if(score>=10){
canvas.classList.add("hidden");
startPuzzle();
return;
}

requestAnimationFrame(gameLoop);
}

document.addEventListener("mousemove",e=>{
playerX=e.clientX-40;
if(playerX<0)playerX=0;
if(playerX>320)playerX=320;
});

document.addEventListener("touchmove",e=>{
playerX=e.touches[0].clientX-40;
if(playerX<0)playerX=0;
if(playerX>320)playerX=320;
});

/* ---------- PUZZLE ---------- */

function startPuzzle(){
document.getElementById("puzzleScreen").classList.remove("hidden");
let board=document.getElementById("puzzleBoard");
board.innerHTML="";
let positions=[0,1,2,3,4,5,6,7,8];
positions.sort(()=>Math.random()-0.5);

positions.forEach(pos=>{
let piece=document.createElement("div");
piece.className="piece";
piece.style.backgroundImage="url('puzzle.jpg')";
piece.style.backgroundPosition=
(- (pos%3)*100)+"px "+(-Math.floor(pos/3)*100)+"px";
board.appendChild(piece);
});

board.addEventListener("click",()=>{
startFinal();
},{once:true});
}

/* ---------- FINAL ---------- */

function startFinal(){
document.getElementById("puzzleScreen").classList.add("hidden");
document.getElementById("finalScreen").classList.remove("hidden");

let message=`Areen üíñ<br><br>
Every moment with you is my favorite memory.<br>
I don‚Äôt want a perfect love story...<br>
I just want you. Forever.<br><br>
‚Äì Fahim ‚ù§Ô∏è`;

let container=document.getElementById("loveMessage");
let i=0;
let txt="";
let interval=setInterval(()=>{
txt+=message[i];
container.innerHTML=txt;
i++;
if(i>=message.length)clearInterval(interval);
},40);
}

</script>
</body>
</html>
